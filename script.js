var AL = {
    earthquakes: true,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};
    
var AK= {
    earthquakes: true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var AZ= {
    earthquakes: false,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var AR= {
    earthquakes: true,
    floods: true,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var CA= {
    earthquakes: true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var CO= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: true,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var CT= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var DE= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var FL= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var GA= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var HI= {
    earthquakes: true,
    floods: true,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var ID= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var IL= {
    earthquakes: true,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false

};

var IN= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var IA= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var KS= {
    earthquakes: false,
    floods: true, 
    hurricanes: false,
    tornados: true,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var KY= {
    earthquakes: true,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var LA = {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var ME= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var MD= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var MA= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var MI= {
    earthquakes: false,
    floods: true, 
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var MN= {
    earthquakes: false,
    floods: true, 
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var MS= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var MO= {
    earthquakes:true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var MT= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var NE= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: true,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var NV= {
    earthquakes: false,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true, 
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var NH= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var NJ = {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var NM = {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: true, 
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var NY= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var NC= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var ND= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var OH= {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var OK= {
    earthquakes: false,
    floods: false,
    hurricanes: false,
    tornados: true,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var OR= {
    earthquakes: true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var PA= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false, 
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
}; 

var RI= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var SC = {
    earthquakes: false,
    floods: false,
    hurricanes: true, 
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var SD = {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: true,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var TN = {
    earthquakes: true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var TX= {
    earthquakes: false,
    floods: true,
    hurricanes: true, 
    tornados: true,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var UT = {
    earthquakes: true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true, 
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var VT= {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: true,
    midwesternState: false,
    southernState: false
};

var VA = {
    earthquakes: false,
    floods: false,
    hurricanes: true,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: false,
    southernState: true
};

var WA = {
    earthquakes: true,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var WV = {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var WI = {
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false,
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: false,
    northeasternState: false,
    midwesternState: true,
    southernState: false
};

var WY= {
    earthquakes: false,
    floods: false,
    hurricanes: false,
    tornados: false,
    wildfires: true, 
    zombieApocalypse: false,
    alienInvasion: false,
    westernState: true,
    northeasternState: false,
    midwesternState: false,
    southernState: false
};

var England={
    earthquakes: false,
    floods: true,
    hurricanes: false,
    tornados: false,
    wildfires: false, 
    zombieApocalypse: false,
    alienInvasion: false
};

var southText = "Hurricane katrina: 2005, 1836 deaths, $125billion in damages Hurricane Maria: 2017, 2982 deaths,\n $90bilion in damage 1980 heatwave: 1980, 1700 deaths, $20billion in damages 1928 Okeechobee hurricane: 1928, 2823 deaths, $800million in damages Hurricane Audrey: 1957, 416 deaths, $147million in damages"
var southElement = document.createElement("p");
southElement.innerHTML=southText;

var midwestText = "1993, Great Flood of 1993, 50 dead, 37.3 billion damages 2012-13, North American Drought , 123 dead, 33.6 billion 1871, Peshitgo Forrest Fire, 1200 dead,  $170 million damages 2011, Super Outbreak, 324 dead, $3.2 billion damages"
midwestElement = document.createElement("p");
midwestElement.innerHTML=midwestText;

var northeastText = "1889,  Johnstown Flood, 2208 dead, $497 million damages 1888, Great White Hurricane, 400+ dead, $710 million damages 1938, Great New England Hurricane, 682 dead, $4.7 billion damages 1927, Vermont Flood, 84+ dead, $5.5 billion"
northeastElement = document.createElement("p");
northeastElement.innerHTML=northeastText;

var westText = "1906 san Francisco earthquake: 1906,3000+ deaths, 7.9mg Paradise California wildfire: 2018, 85 deaths, deadliest fire in California history Los Angeles flood: 1938, 115 deaths, deadliest disaster in LA history.\n Northridge earthquake: 1994, 60 deaths, 6.9 mg"
westElement = document.createElement("p");
westElement.innerHTML=westText;

//variables to plug in dependents number
var depNum = 0;
var babNum=0;

//creation of Lists


//function which takes items from any any list given and appends them to list

var listsDiv=document.getElementById("lists");
var basketArray=[];
var supplyList = document.createElement("ul");
    supplyList.style.listStyleType="none";
    listsDiv.appendChild(supplyList);
    localStorage.setItem("basket", "");
    
function generateList (anyList){
    // supplyList.innerHTML="";
    for (var i=0; i<anyList.length; i++){
    var supplyItems=document.createElement("UL");
    supplyItems.innerHTML= anyList[i]
   

    $(supplyItems).on("click", function(){
        basketArray.push(this.innerHTML);
        localStorage.setItem("basket",JSON.stringify(basketArray));

    })
    supplyList.appendChild(supplyItems);


    
    }
}
basketList = document.createElement("UL");
//displays items in shopping cart if shopping car is clixked
$("#shopping").on("click", function(){
   
    basketList.innerHTML="";
    var basket  = JSON.parse(localStorage.getItem("basket"))
   
    $("#shopping-cart").append(basketList);
    for (var i=0; i<basket.length; i++){
    var basketItems = document.createElement("LI");
    basketItems.innerHTML= "<a href= 'https://www.google.com/search?psb=1&tbm=shop&q=" + basket[i] + "&ved=0CAQQr4sDKAJqFwoTCIqX98S0o-kCFRPpYgodgbgOqxAC' target='_blank'>" + basket[i] + "</a>"
    basketList.appendChild(basketItems);
}
})




var state1="";
// function to get current location once website is open
function currentLocation () {
    // geolocation function to get latitude and longitude
    navigator.geolocation.getCurrentPosition(function(position){
        console.log(position);
        var lat = position.coords.latitude;
        var long= position.coords.longitude;
        
        // call to google API to get location by longitude and latitude
        $.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=" + lat + "," + long + "&key=AIzaSyAJ67XPqFCkQROFj98MvLbeDMnxkKsCWpM",function(){
            // create img element and getting map image of longitude and latitude location and append to index.html
            var imgEl = $("<img width=80%>");
            imgEl.attr("src", "https://maps.googleapis.com/maps/api/staticmap?center=" + lat + "," + long + "&zoom=13&size=250x250&key=AIzaSyAJ67XPqFCkQROFj98MvLbeDMnxkKsCWpM")
            imgEl.attr("class", "map-image")
                $("#current-location").append(imgEl)

           

            
        });
        //  call to mapquest API to get city and state based longitude and latitude
        var queryURL = "https://www.mapquestapi.com/geocoding/v1/address?key=iJn3fnxq6GVxdR2Czn9tCFjMdpiLFMPf&location=" + lat + "," + long;
        $.ajax({
            url: queryURL,
            method: "GET"
        }).then (function(response){
            city1 = response.results[0].locations[0].adminArea4
            state1 = response.results[0].locations[0].adminArea3
            console.log(response)
            var h6El = $("<h6>")
            h6El.attr("class", "city-name")
            h6El.text("You are in " + city1 + ", " +state1)
            // get weather for current location
            weather(city1);
            // if statements to check for region of US
            $("#current-location").prepend(h6El)
            if (window[state1].southernState==true){
                $("#southdisasters").css("display", "block");
                $("#northeastdisasters").css("display","none");
                $("#midwestdisasters").css("display","none");
                $("#westdisasters").css("display", "none");
            }
            if (window[state1].northeasternState==true){
                $("#southdisasters").css("display", "none");
                $("#northeastdisasters").css("display","block");
                $("#midwestdisasters").css("display","none");
                $("#westdisasters").css("display", "none");
            }
            if (window[state1].westernState==true){
                $("#southdisasters").css("display", "none");
                $("#northeastdisasters").css("display","none");
                $("#midwestdisasters").css("display","none");
                $("#westdisasters").css("display", "block");
            }
            if (window[state1].midwesternState==true){
                $("#southdisasters").css("display", "none");
                $("#northeastdisasters").css("display","none");
                $("#midwestdisasters").css("display","block");
                $("#westdisasters").css("display", "none");
            }
            

            // click event when generate list button is clicked for current location
            $("#generate").on("click",function(){
                supplyList.innerHTML="";
                // appends what disaster your city is at threat from
                $("#disaster-prone").empty();
                h4El= $("<h4>")
                h4El.text(city1+", "+state1 + " is at threat from: ")
                $("#disaster-prone").append(h4El)

                // checks what list to display
                if ($("#option1").parent().attr("class").includes("active")){
                    // selectValue is used to grab the form select drop down's value
                    var selectValue = $(".form-control option:selected").val();
                    var disabilitiesSubmit = document.getElementById("exampleFormControlSelect3").value;
                    var numberSubmit = document.getElementById("exampleFormControlSelect1").value;
                    var babiesSubmit = document.getElementById("exampleFormControlSelect2").value;
                    depNum=parseInt(numberSubmit) + 1;
                    babNum=parseInt(babiesSubmit);
                    generalSupplyList = document.createElement("UL");
                    generalSupplyList.setAttribute("id", "generalSupplyList");
                    generalSupplyList.setAttribute("class","list");
                    generalSupplyList = [(depNum*3) + "Water: one gallon per day per person", 
                    "Food:  Minimum 3 day supply of non perishable food.  Factor in 2000 calories per day per person",
                    "Radio:  Should include NOAA Weather chanels.  Ideally solar or hand cranked",
                    "Flashlight",
                    "First aid kit",
                    "Extra batteries",
                    "Whistle",
                    "Dust mask",
                    "Plastic tarps",
                    "Duct tape",
                    "Moist towelettes, garbage bags and plastic ties",
                    "Wrench or pliers",
                    "Manual can opener",
                    "Local maps",
                    "Cell phone with chargers and a backup battery",
                    "Cloth face coverings",
                    "Soap",
                    "Hand sanitizer", 
                    "Disinfecting wipes",
                    "Prescription medications",
                    "Over the counter medications:  pain relievers, anti-diarrhea medication, antacids, laxatives, etc.",
                    "Prescription eyeglasses and contact lens solution",
                    "Pet food and water",
                    "Cash or traveler's checks",
                    "Important documents: insurance policies, identification, bank records, etc.",
                    "Sleeping bag or warm blanket",
                    "Extra clothing and shoes: limate appropriate and sturdy",
                    "Fire extinguisher",
                    "Matches and lighters",
                    "Feminine supplies and personal hygiene items",
                    "Mess kits, paper cups, plates, paper towels and plastic utensils",
                    "Paper and pencil"  
                    ];
                    
                    childrenSupplyList = [
                        "Entertainment: books, games, puzzles, etc", 
                        (babNum*3) + " day supply of Infant formula", 
                        (babNum) + " Bottle(s)", 
                        (babNum*3) +" days supply of diapers", 
                        "Baby wipes", 
                        "Diaper rash cream"  
                    ];
                    
                    disabilitiesSupplyList = [
                        "Medical alert tags or bracelets.",
                        "Associated medications",
                        "Braille communication cards",
                        "Spare batteries or power supplies for medical equipment",    
                        "Map of nearest treatment facilities"
                    ];
                    
                    earthquakeSupplyList = [
                        "Fastening hardware: duct tape, paracord, etc.",
                        "Utility shutoff tools",   
                        "Zip-ties",
                        "Tent or auxillary shelter"
                    ];

                    floodSupplyList = [
                        "Sandbags",
                        "Sump pump with spare power supply",
                        "Waterproof storage containers",  
                        depNum + " Rain jackets",
                        "Waterproof boots"                      
                    ];
                    
                    hurricaneSupplyList = [
                        "Cordage and rope",
                        depNum + " Ponchos",
                        "Map with evacuation routes",
                        "Barricading hardware: plywood, tie-down ropes, etc"
                    ];
                    
                    tornadoSupplyList = [
                        "Directives and maps for evacuation",
                        "Evacuation vehicle",
                        "Map of utility shutoff valves",
                        "Cleared basement access"
                    ]
                    
                    widlfireSupplyList = [
                        depNum + " N95 masks",
                        "CO2 detectors",
                        "Fire extinguishers",
                        "Rakes, shovels and tools",
                        "Debris clearance perimeter of 30 fett from shelter",
                        "Fire-proof storage container for important documents",
                        depNum + " Fire blankets",
                        "Supplies to seal oppenings: duct tape, sand bags, etc.",
                    ];
                    
                    
                    
            var calledState=window[state1];
            if (calledState.earthquakes==true){
                console.log("true")
                h5El= $("<h5>")
                h5El.text("Earthquakes")
                $("#disaster-prone").append(h5El)
                generateList(earthquakeSupplyList);
            }
            if (calledState.floods==true){
                console.log("true")
                h5El= $("<h5>")
                h5El.text("Floods")
                $("#disaster-prone").append(h5El)
                generateList(floodSupplyList);
            }
            if (calledState.hurricanes==true){
                console.log("true")
                h5El= $("<h5>")
                h5El.text("Hurricanes")
                $("#disaster-prone").append(h5El)
                generateList(hurricaneSupplyList);
            }
            if (calledState.tornados==true){
                console.log("true")
                h5El= $("<h5>")
                h5El.text("Tornados")
                $("#disaster-prone").append(h5El)
                generateList(tornadoSupplyList);
            }
            if (calledState.wildfires==true){
                console.log("true")
                h5El= $("<h5>")
                h5El.text("Wildfires")
                $("#disaster-prone").append(h5El)
                generateList(widlfireSupplyList);
            }
            
            if (babiesSubmit!=="0"){
                generateList(childrenSupplyList);
            }
            
            if (disabilitiesSubmit!=="no"){
                generateList(disabilitiesSupplyList);
            }
            
           
        }else{
            if ($("#option2").parent().attr("class").includes("active")){
                var zombieSupplyList = [
                    "Cross-bow",
                    "Strong deodarant",
                    "Solid head gear",
                    "Motorcycle"
                    
                    
                ]
                h5El= $("<h5>")
                h5El.text("Zombies")
                $("#disaster-prone").append(h5El)
                generateList(zombieSupplyList);
            }
            
            if ($("#option3").parent().attr("class").includes("active")){
                var alienSupplyList = [
                    "Reese's Pieces",
                    "Rifle with plenty of spare ammo",
                    "Tin foil",
                    "Remove all tooth fillings"
                ]
                h5El= $("<h5>")
                h5El.text("Aliens")
                $("#disaster-prone").append(h5El)
                generateList(alienSupplyList);
            }}

           
        })
    });
})
}

currentLocation();

// gobally declaring variable
var disabilitiesSupplyList;
var childrenSupplyList;
var generalSupplyList;
var widlfireSupplyList;
var tornadoSupplyList;
var hurricaneSupplyList;
var earthquakeSupplyList;
var floodSupplyList;




// function to change location
$("#new-location").on("click", function(){
    event.preventDefault();
    var city1 = $("input").val();
    var state1 = $("select").val();
    
    // checks weather for new location
    weather(city1);

        // if statements to check for region of US based on new location
            // $("#current-location").prepend(h6El)
            if (window[state1].southernState==true){
                $("#southdisasters").css("display", "block");
                $("#northeastdisasters").css("display","none");
                $("#midwestdisasters").css("display","none");
                $("#westdisasters").css("display", "none");
            }
            if (window[state1].northeasternState==true){
                $("#southdisasters").css("display", "none");
                $("#northeastdisasters").css("display","block");
                $("#midwestdisasters").css("display","none");
                $("#westdisasters").css("display", "none");
            }
            if (window[state1].westernState==true){
                $("#southdisasters").css("display", "none");
                $("#northeastdisasters").css("display","none");
                $("#midwestdisasters").css("display","none");
                $("#westdisasters").css("display", "block");
            }
            if (window[state1].midwesternState==true){
                $("#southdisasters").css("display", "none");
                $("#northeastdisasters").css("display","none");
                $("#midwestdisasters").css("display","block");
                $("#westdisasters").css("display", "none");
            }

    // display image of map of new location
    $(".map-image").attr("src", "https://maps.googleapis.com/maps/api/staticmap?center="+ city1 + "," + state1 + "&zoom=13&size=950x950&key=AIzaSyAJ67XPqFCkQROFj98MvLbeDMnxkKsCWpM")
   $(".city-name").text("You are in " + city1 + ", " +state1)
   

    // click event when generate list button is clicked for nre location
   $("#generate").on("click",function(){
    supplyList.innerHTML="";


    $("#disaster-prone").empty();
    // displays what new location is at threat from
            h4El= $("<h4>")
            h4El.text(city1+", "+state1 + " is at threat from: ")
            $("#disaster-prone").append(h4El)

    // if statment to check what disaster list to display for new location
    if ($("#option1").parent().attr("class").includes("active")){
    var calledState=window[state1];
    console.log(state1)
    if (calledState.earthquakes===true){
        h5El= $("<h5>")
        h5El.text("Earthquakes")
        $("#disaster-prone").append(h5El)
        generateList(earthquakeSupplyList);
    }
    if (calledState.floods===true){
        h5El= $("<h5>")
        h5El.text("Floods")
        $("#disaster-prone").append(h5El)
        generateList(floodSupplyList);
    }
    if (calledState.hurricanes===true){
        h5El= $("<h5>")
        h5El.text("Hurricanes")
        $("#disaster-prone").append(h5El)
        generateList(hurricaneSupplyList);
    }
    if (calledState.tornados===true){
        h5El= $("<h5>")
        h5El.text("Tornadoes")
        $("#disaster-prone").append(h5El)
        generateList(tornadoSupplyList);
    }
    if (calledState.wildfires===true){
        h5El= $("<h5>")
        h5El.text("Wildfires")
        $("#disaster-prone").append(h5El)
        generateList(widlfireSupplyList);
    }
    
    var disabilitiesSubmit = document.getElementById("exampleFormControlSelect3").value;
    var numberSubmit = document.getElementById("exampleFormControlSelect1").value;
    var babiesSubmit = document.getElementById("exampleFormControlSelect2").value;
    console.log(disabilitiesSubmit);
    console.log(numberSubmit);
    console.log(babiesSubmit);

   console.log(babiesSubmit);
    if (babiesSubmit!=="0"){
        generateList(childrenSupplyList);
    }

    if (disabilitiesSubmit!=="no"){
        generateList(disabilitiesSupplyList);
    }
   
}else{
    if ($("#option2").parent().attr("class").includes("active")){
        console.log(state1)
        var zombieSupplyList = [
            "cross-bow",
            "strong deodarant",
            "solid head gear",
            "motorcycle"
        ]
        h5El= $("<h5>")
        console.log(state1)
                h5El.text("Zombies")
                $("#disaster-prone").append(h5El)
                generateList(zombieSupplyList);
    }
    
    if ($("#option3").parent().attr("class").includes("active")){
        var alienSupplyList = [
            "Reese's Pieces",
            "Rifle with plenty of spare ammo",
            "tin-foil hat",
            "universal translator"
        ]
        h5El= $("<h5>")
                h5El.text("Aliens")
                $("#disaster-prone").append(h5El)
              
            generateList(alienSupplyList);
    }}

    
})

$("input").val("");
});

// function to get weather
function weather(city1){
    $("#weather-display").empty();
    var apiKey = "bb06c0b8789f5256fcbbe492b33425e3";
    var queryURL = "https://api.openweathermap.org/data/2.5/weather?q=" + city1 + "&appid=" + apiKey + "&units=imperial";
    $.ajax({
    url: queryURL,
    method: "GET"
    })
    .then(function(response){
        var icon = response.weather[0].icon;
        var pEl = $("<p id='weather-status'>Weather: " + response.main.temp +"°F; " + response.weather[0].description +  "</p>")
        imageEl=$("<img>")
        imageEl.attr("src", "http://openweathermap.org/img/wn/" + icon + "@2x.png")
        imageEl.attr("class", "weather-icon")
        $("#weather-display").append(pEl)
        $("#weather-display").append(imageEl)
    });
    }

